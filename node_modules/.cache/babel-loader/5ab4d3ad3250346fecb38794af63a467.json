{"ast":null,"code":"import _slicedToArray from\"E:\\\\Assignemnt - 11\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from\"react\";import*as firebase from\"firebase/app\";import\"firebase/auth\";import{UserContext}from\"../../App\";import{useHistory,useLocation}from\"react-router-dom\";import{Button,Card}from\"react-bootstrap\";import{useContext}from\"react\";import firebaseConfig from\"./firebase.Config\";import google from\"./google.png\";import creative from\"../../images/logos/logo.png\";var Login=function Login(){var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),loggedInUser=_useContext2[0],setLoggedInUser=_useContext2[1];var history=useHistory();var location=useLocation();var _ref=location.state||{from:{pathname:'/auth'}},from=_ref.from;if(firebase.apps.length===0){firebase.initializeApp(firebaseConfig);}var handleGoogleSignIn=function handleGoogleSignIn(){var provider=new firebase.auth.GoogleAuthProvider();firebase.auth().signInWithPopup(provider).then(function(result){var _result$user=result.user,displayName=_result$user.displayName,email=_result$user.email;var signedInUser={name:displayName,email:email};setLoggedInUser(signedInUser);history.replace(from);sessionStorage.setItem('token',signedInUser.user);return signedInUser;}).catch(function(error){var errorMessage=error.message;console.log(errorMessage);});};return/*#__PURE__*/React.createElement(\"section\",{className:\"mt-5 p-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3\"},/*#__PURE__*/React.createElement(\"img\",{style:{height:\"2rem\",width:\"7rem\"},src:creative,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3\"},/*#__PURE__*/React.createElement(\"h3\",{style:{align:\"center\"}},\"Login With\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3\"},/*#__PURE__*/React.createElement(Card,{style:{width:\"25rem\",height:\"18rem\",align:\"center\",border:\"1px solid gray\"}},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center ml-4 mt-5 p-1\",style:{height:\"3rem\",width:\"18rem\",borderRadius:\"2rem\",backgroundColor:\"white\",border:\"1px solid gray\"}},/*#__PURE__*/React.createElement(\"img\",{style:{width:\"2rem\",height:\"2rem\",marginRight:\"2rem\",marginLeft:\"5px\"},src:google,alt:\"\"}),/*#__PURE__*/React.createElement(\"button\",{style:{height:\"2rem\",border:\"none\",width:\"12rem\",backgroundColor:\"white\"},onClick:function onClick(){return handleGoogleSignIn();}},\"Login with Google\"))))));};export default Login;","map":{"version":3,"sources":["E:/Assignemnt - 11/client/src/Components/LogIn/Login.js"],"names":["React","firebase","UserContext","useHistory","useLocation","Button","Card","useContext","firebaseConfig","google","creative","Login","loggedInUser","setLoggedInUser","history","location","state","from","pathname","apps","length","initializeApp","handleGoogleSignIn","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","user","displayName","email","signedInUser","name","replace","sessionStorage","setItem","catch","error","errorMessage","message","console","log","height","width","align","border","borderRadius","backgroundColor","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport { UserContext } from \"../../App\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\nimport { useContext } from \"react\";\r\nimport firebaseConfig from \"./firebase.Config\";\r\nimport google from \"./google.png\";\r\nimport creative from \"../../images/logos/logo.png\"\r\n\r\nconst Login = () => {\r\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { from } = location.state || { from: { pathname: '/auth' } };\r\n\r\n  if (firebase.apps.length === 0) {\r\n    firebase.initializeApp(firebaseConfig);\r\n  }\r\n\r\n  const handleGoogleSignIn = () => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(provider)\r\n      .then(function (result) {\r\n        const { displayName, email } = result.user;\r\n        const signedInUser = { name: displayName, email };\r\n        setLoggedInUser(signedInUser);\r\n        history.replace(from);\r\n        sessionStorage.setItem('token', signedInUser.user);\r\n        return signedInUser;\r\n      })\r\n      .catch(function (error) {\r\n        const errorMessage = error.message;\r\n        console.log(errorMessage);\r\n      });\r\n  };\r\n  return (\r\n    \r\n<section className=\"mt-5 p-1\">\r\n\r\n   <div className=\"d-flex justify-content-center mt-3\">\r\n   <img style={{height:\"2rem\", width:\"7rem\"}} src={creative} alt=\"\"/>\r\n   </div>\r\n   <div className=\"d-flex justify-content-center mt-3\">\r\n   <h3 style={{align:\"center\"}}>Login With</h3>\r\n   </div>\r\n\r\n      <div className=\"d-flex justify-content-center mt-3\">\r\n      \r\n      <Card style={{ width: \"25rem\", height: \"18rem\", align:\"center\", border:\"1px solid gray\"}}>\r\n      \r\n        <Card.Body>\r\n          <div className=\"d-flex align-items-center ml-4 mt-5 p-1\" style={{ height: \"3rem\", width: \"18rem\", borderRadius:\"2rem\", backgroundColor:\"white\", border:\"1px solid gray\" }}>\r\n            \r\n            <img\r\n              style={{ width: \"2rem\", height: \"2rem\", marginRight:\"2rem\", marginLeft:\"5px\" }}\r\n              src={google}\r\n              alt=\"\"\r\n            />\r\n            <button\r\n              \r\n              style={{ height: \"2rem\", border: \"none\", width: \"12rem\",backgroundColor:\"white\" }}\r\n              onClick={() => handleGoogleSignIn()}\r\n            >\r\n             Login with Google\r\n            </button>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n      </div>\r\n      </section>\r\n\r\n      \r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}