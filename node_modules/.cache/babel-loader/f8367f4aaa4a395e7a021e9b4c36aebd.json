{"ast":null,"code":"var _jsxFileName = \"E:\\\\Assignemnt - 11\\\\client\\\\src\\\\Components\\\\LogIn\\\\Login.js\";\nimport React from 'react';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from \"./firbase.conig\";\nimport { UserContext } from \"../../App\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Button } from 'react-bootstrap';\nimport { useContext } from 'react';\n\nconst Login = () => {\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    from\n  } = location.state || {\n    from: {\n      pathname: `/register`\n    }\n  };\n\n  if (firebase.apps.length === 0) {\n    firebase.initializeApp(firebaseConfig);\n  }\n\n  const handleGoogleSignIn = () => {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider).then(function (result) {\n      const {\n        displayName,\n        email\n      } = result.user;\n      const signedInUser = {\n        name: displayName,\n        email\n      };\n      setLoggedInUser(signedInUser);\n      history.replace(from);\n    }).catch(function (error) {\n      const errorMessage = error.message;\n      console.log(errorMessage);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleGoogleSignIn(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 12\n    }\n  }, \"Login\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["E:/Assignemnt - 11/client/src/Components/LogIn/Login.js"],"names":["React","firebase","firebaseConfig","UserContext","useHistory","useLocation","Button","useContext","Login","loggedInUser","setLoggedInUser","history","location","from","state","pathname","apps","length","initializeApp","handleGoogleSignIn","provider","auth","GoogleAuthProvider","signInWithPopup","then","result","displayName","email","user","signedInUser","name","replace","catch","error","errorMessage","message","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,QAAZ,MAA0B,cAA1B;AACA,OAAO,eAAP;AACA,OAAOC,cAAP,MAA2B,iBAA3B;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,UAAT,QAA2B,OAA3B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAEhB,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCH,UAAU,CAACJ,WAAD,CAAlD;AAEA,QAAMQ,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAMQ,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAAWD,QAAQ,CAACE,KAAT,IAAkB;AAAED,IAAAA,IAAI,EAAE;AAAEE,MAAAA,QAAQ,EAAG;AAAb;AAAR,GAAnC;;AAEA,MAAId,QAAQ,CAACe,IAAT,CAAcC,MAAd,KAAyB,CAA7B,EAAgC;AAC9BhB,IAAAA,QAAQ,CAACiB,aAAT,CAAuBhB,cAAvB;AACD;;AAED,QAAMiB,kBAAkB,GAAG,MAAM;AAC/B,QAAIC,QAAQ,GAAG,IAAInB,QAAQ,CAACoB,IAAT,CAAcC,kBAAlB,EAAf;AACArB,IAAAA,QAAQ,CACLoB,IADH,GAEGE,eAFH,CAEmBH,QAFnB,EAGGI,IAHH,CAGQ,UAAUC,MAAV,EAAkB;AACtB,YAAM;AAAEC,QAAAA,WAAF;AAAeC,QAAAA;AAAf,UAAyBF,MAAM,CAACG,IAAtC;AACA,YAAMC,YAAY,GAAG;AAAEC,QAAAA,IAAI,EAAEJ,WAAR;AAAqBC,QAAAA;AAArB,OAArB;AACAjB,MAAAA,eAAe,CAACmB,YAAD,CAAf;AACAlB,MAAAA,OAAO,CAACoB,OAAR,CAAgBlB,IAAhB;AACD,KARH,EASGmB,KATH,CASS,UAAUC,KAAV,EAAiB;AACtB,YAAMC,YAAY,GAAGD,KAAK,CAACE,OAA3B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AACD,KAZH;AAaD,GAfD;;AAgBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,MAAIf,kBAAkB,EAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADH,CADJ;AAKH,CAjCD;;AAmCA,eAAeX,KAAf","sourcesContent":["import React from 'react';\r\nimport * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from \"./firbase.conig\";\r\nimport { UserContext } from \"../../App\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { Button } from 'react-bootstrap';\r\nimport { useContext } from 'react';\r\n\r\nconst Login = () => {\r\n    \r\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const { from } = location.state || { from: { pathname: `/register` } };\r\n  \r\n    if (firebase.apps.length === 0) {\r\n      firebase.initializeApp(firebaseConfig);\r\n    }\r\n  \r\n    const handleGoogleSignIn = () => {\r\n      var provider = new firebase.auth.GoogleAuthProvider();\r\n      firebase\r\n        .auth()\r\n        .signInWithPopup(provider)\r\n        .then(function (result) {\r\n          const { displayName, email } = result.user;\r\n          const signedInUser = { name: displayName, email };\r\n          setLoggedInUser(signedInUser);\r\n          history.replace(from);\r\n        })\r\n        .catch(function (error) {\r\n          const errorMessage = error.message;\r\n          console.log(errorMessage);\r\n        });\r\n    }; \r\n    return (\r\n        <div>\r\n           <Button onClick={()=>handleGoogleSignIn()}>Login</Button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}